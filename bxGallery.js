/*
bxGallery v1.1
Plugin developed by: Steven Wanderski
http://bxgalleryplugin.com
http://stevenwanderski.com

Released under the GPL license:
http://www.gnu.org/licenses/gpl.html
*/
(function(e){e.fn.extend({bxGallery:function(t){function d(){u.hide();if(r.load_text!=""){u.before('<div id="loading">'+r.load_text+"</div>")}else{}u.find("img").each(function(){var t=e(this).attr("src");var n=new Image;n.onload=function(){v()};n.src=t})}function v(){c++;if(c==h){m()}}function m(){g();y();b();w()}function g(){u.show();u.wrap('<div class="'+r.wrapperclass+'"></div>');o=u.parent();u.find("li").css({position:"absolute"})}function y(){u.find("img").each(function(){var t=e(this);var n=t.height();var o=t.width();var u=e(this).data("image-id");var l=e(this).data("src");if(t.prop("title")!=""){s=t.prop("title");t.parent().append('<div class="caption">'+s+"</div>")}if(r.maxwidth!=""){if(t.width()>r.maxwidth){t.width(r.maxwidth);t.height(n/o*r.maxwidth)}}if(r.maxheight!=""){if(t.height()>r.maxheight){t.height(r.maxheight);t.width(o/n*r.maxheight)}}var c=0;if(t.parent().find(".caption").height()>0){c=t.parent().find(".caption").height()}if(t.height()+c>a){a=t.height()+c}if(t.width()>f){f=t.width()}i+='<li><img src="'+t.prop("src")+'" data-image-id="'+u+'" data-src="'+l+'" /></li>'});u.find("li:not(:first)").hide();u.height(a);u.width(f);o.find(".caption").width(f)}function b(){if(r.thumbplacement=="top"){o.prepend('<ul class="thumbs">'+i+"</ul>");o.find(".thumbs").css({overflow:"auto"})}else if(r.thumbplacement=="left"){o.prepend('<ul class="thumbs">'+i+"</ul>");u.css({"float":"left"});o.find(".thumbs").css({"float":"left"})}else if(r.thumbplacement=="bottom"){o.append('<ul class="thumbs">'+i+"</ul>")}else if(r.thumbplacement=="right"){o.append('<ul class="thumbs">'+i+"</ul>");u.css({"float":"left"});o.find(".thumbs").css({"float":"left"})}o.append('<div style="clear:both"></div>');if(r.thumbcontainer!=""){o.find(".thumbs").width(r.thumbcontainer)}o.find(".thumbs").css({display:"none"})}function w(){o.find(".thumbs li").each(function(){var t=e(this);var n=t.find("img");var i=n.width();var s=n.height();if(r.thumbcrop){n.width(i*r.croppercent);n.height(s/i*n.width());t.css({"float":"left",width:r.thumbwidth,height:r.thumbwidth,overflow:"hidden",cursor:"pointer"})}else{n.width(r.thumbwidth);n.height(s/i*r.thumbwidth);t.css({"float":"left",cursor:"pointer"});t.height(n.height())}t.click(function(){var e=o.find(".thumbs li").index(t);if(l!=e){u.find("li").fadeOut();u.find("li").eq(e).fadeIn();l=e}})});var t=o.find(".thumbs li");t.eq(0).addClass("on");t.not(".on").fadeTo(0,r.opacity);t.click(function(){var n=e(this);var i=t.index(this);if(p!=i){t.removeClass("on");n.addClass("on");t.not(".on").fadeTo(200,r.opacity);p=i}}).hover(function(){e(this).stop().fadeTo(200,1);e(this).click()},function(){e(this).not(".on").stop().fadeTo(200,r.opacity)})}var n={maxwidth:"",maxheight:"",thumbwidth:200,thumbcrop:false,croppercent:.35,thumbplacement:"bottom",thumbcontainer:"",opacity:.7,load_text:"",load_image:"http://i302.photobucket.com/albums/nn92/wandoledzep/spinner.gif",wrapperclass:"outer"};var t=e.extend(n,t);var r=t;var i="";var s="";var o="";var u=this;var a=0;var f=0;var l=0;var c=0;var h=u.find("img").size();var p;d()}})})(jQuery);